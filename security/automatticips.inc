# Note that using the Automattic IP to match can be dangerous. This is the most secure method, 
# but must be frequently updated with new IP addresses.  These can be found at 
# http://whois.arin.net/rest/org/AUTOM-93/nets.  The ticket 
# https://github.com/Automattic/jetpack/issues/1719 contains a discussion of why 
# this is dangerous.

# Automattic's netblocks

geo $is_automattic_ip {
        default         0; # Block everything not in the ranges below
        216.151.209.64/26    1;
        66.135.48.128/25    1;
        69.174.248.128/25    1;
        76.74.255.0/25    1;
        216.151.210.0/25    1;
        76.74.248.128/25    1;
        76.74.254.0/25    1;
        207.198.112.0/23    1;
        207.198.101.0/25    1;
        198.181.116.0/22    1;
        192.0.64.0/18    1;
        66.155.8.0/22    1;
        66.155.38.0/24    1;
        72.233.119.192/26    1;
        209.15.21.0/24    1;
        64.34.206.0/24    1;
        192.0.114.0/24    1;
        2620:115:c000:0:0:0:0:0/44    1;
        192.0.72.0/24    1;
        192.0.76.0/23    1;
        192.0.78.0/23    1;
        192.0.74.0/23    1;
        192.0.65.0/24    1;
        192.0.112.0/24    1;
        185.64.140.0/24    1;
        185.64.141.0/24    1;
        185.64.142.0/24    1;
        185.64.143.0/24    1;
        192.0.80.0/24    1;
        192.0.81.0/24    1;
        192.0.82.0/24    1;
        192.0.83.0/24    1;
        192.0.84.0/24    1;
        192.0.85.0/24    1;
        192.0.86.0/24    1;
        192.0.87.0/24    1;
        192.0.88.0/24    1;
        192.0.89.0/24    1;
        192.0.90.0/24    1;
        192.0.91.0/24    1;
        192.0.92.0/24    1;
        192.0.93.0/24    1;
        192.0.94.0/24    1;
        192.0.95.0/24    1;
        192.0.96.0/24    1;
        192.0.97.0/24    1;
        192.0.98.0/24    1;
        192.0.99.0/24    1;
        192.0.100.0/24    1;
        192.0.101.0/24    1;
        192.0.102.0/24    1;
        192.0.103.0/24    1;
        192.0.104.0/24    1;
        192.0.105.0/24    1;
        192.0.106.0/24    1;
        192.0.107.0/24    1;
        192.0.108.0/24    1;
        192.0.109.0/24    1;
        192.0.110.0/24    1;
        192.0.111.0/24    1;
        192.0.124.0/24    1;
        192.0.125.0/24    1;
        192.0.126.0/24    1;
        192.0.127.0/24    1;
        192.0.66.0/24    1;
        192.0.67.0/24    1;
        192.0.68.0/24    1;
        192.0.69.0/24    1;
        192.0.70.0/24    1;
        192.0.71.0/24    1;
        192.0.73.0/24    1;
        192.0.74.0/24    1;
        192.0.75.0/24    1;
        192.0.76.0/24    1;
        192.0.77.0/24    1;
        192.0.78.0/24    1;
        192.0.79.0/24    1;
        192.0.80.0/20    1;
        192.0.96.0/20    1;
        198.181.117.0/24    1;
        198.181.118.0/24    1;
        198.181.119.0/24    1;
        103.62.32.0/24    1;
        103.62.33.0/24    1;
        103.62.34.0/24    1;
        103.62.35.0/24    1;
        45.121.180.0/24    1;
        45.121.181.0/24    1;
        45.121.182.0/24    1;
        45.121.183.0/24    1;
        192.0.112.0/21    1;
        192.0.120.0/22    1;
        192.0.113.0/24    1;
        192.0.115.0/24    1;
        192.0.116.0/24    1;
        192.0.117.0/24    1;
        192.0.118.0/24    1;
        192.0.119.0/24    1;
        192.0.120.0/24    1;
        192.0.121.0/24    1;
        192.0.122.0/24    1;
        192.0.123.0/24    1;
        200.9.112.0/24    1;
        200.9.113.0/24    1;
        185.138.28.0/22    1;
        185.138.28.0/23    1;
        185.138.28.0/24    1;
        185.138.29.0/24    1;
        185.138.30.0/23    1;
        185.138.30.0/24    1;
        185.138.31.0/24    1;
        192.0.72.0/21      1;

}
